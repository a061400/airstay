"use strict";(self["webpackChunkairstay"]=self["webpackChunkairstay"]||[]).push([[505],{9505:function(e,t,i){i.r(t),i.d(t,{default:function(){return A}});var s=i(6768),o=i(4232),n=i(2009);const l=(0,s.Lk)("img",{src:n,alt:"Loading...",style:{width:"100px"}},null,-1),a={class:"container-fluid mt-5",style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},c=(0,s.Lk)("h3",{style:{"font-weight":"bold"}},"心願單",-1),r=(0,s.Lk)("i",{class:"bi bi-heart-fill",style:{color:"red",fontSize:"20px"}},null,-1),d={class:"px-5"},h={class:"row"};function u(e,t,i,n,u,f){const p=(0,s.g2)("Loading"),L=(0,s.g2)("WishListInfo");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(p,{active:u.isLoading},{default:(0,s.k6)((()=>[l])),_:1},8,["active"]),(0,s.Lk)("div",a,[c,r,(0,s.Lk)("h6",null,"已收藏"+(0,o.v_)(u.infoList.length)+"間",1)]),(0,s.Lk)("div",d,[(0,s.Lk)("div",h,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(u.infoList,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:"col-12 col-sm-6 col-md-3 col-lg-2 px-3 mb-5",key:"content"+t},[(0,s.bF)(L,{info:e,onDeletWish:f.deleteWish},null,8,["info","onDeletWish"])])))),128))])])],64)}i(4114);const f={class:"card"},p={class:"card bg-dark text-white text-left",style:{position:"relative"}},L=["src"],g=(0,s.Lk)("i",{class:"bi bi-circle-fill",style:{position:"absolute",top:"-3px",right:"2px","font-size":"40px"}},null,-1),m={class:"card-text"},k={class:"card-text"},y=(0,s.Lk)("i",{class:"bi bi-geo-alt-fill"},null,-1),v={class:"card-text"},w={class:"card-text"},x={class:"card-text"},b={class:"card-text"},W=(0,s.Lk)("i",{class:"bi bi-star-fill"},null,-1);function C(e,t,i,n,l,a){return(0,s.uX)(),(0,s.CE)("div",f,[(0,s.Lk)("div",p,[(0,s.Lk)("img",{class:"card-img-top img-cover",style:{height:"155px"},src:i.info.imageUrl,alt:"",onClick:t[0]||(t[0]=e=>a.onClickRoom(i.info.id)),onKeydown:t[1]||(t[1]=(...e)=>a.handleKeyDown&&a.handleKeyDown(...e))},null,40,L),g,l.isWish?((0,s.uX)(),(0,s.CE)("i",{key:0,class:"bi bi-heart-fill",style:{position:"absolute",top:"10px",right:"10px",color:"red","font-size":"24px",transition:"transform 0.2s ease-in-out"},onClick:t[2]||(t[2]=e=>a.deleteWish(i.info.id)),onKeydown:t[3]||(t[3]=(...e)=>a.handleKeyDown&&a.handleKeyDown(...e)),onMouseover:t[4]||(t[4]=(...e)=>a.handleMouseEnter&&a.handleMouseEnter(...e)),onMouseout:t[5]||(t[5]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),onFocus:t[6]||(t[6]=(...e)=>a.handleMouseEnter&&a.handleMouseEnter(...e)),onBlur:t[7]||(t[7]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e))},null,32)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",{class:"card-body text-left",onClick:t[8]||(t[8]=e=>a.onClickRoom(i.info.id)),onKeydown:t[9]||(t[9]=(...e)=>a.handleKeyDown&&a.handleKeyDown(...e))},[(0,s.Lk)("h5",m,(0,o.v_)(i.info.title),1),(0,s.Lk)("p",k,[y,(0,s.eW)(" "+(0,o.v_)(i.info.category),1)]),(0,s.Lk)("p",v,(0,o.v_)(i.info.content),1),(0,s.Lk)("del",w," $"+(0,o.v_)(i.info.origin_price)+" "+(0,o.v_)(a.curCurrency),1),(0,s.Lk)("p",x," $"+(0,o.v_)(i.info.price)+" "+(0,o.v_)(a.curCurrency),1),(0,s.Lk)("p",b,[W,(0,s.eW)(" "+(0,o.v_)(i.info.unit)+" "+(0,o.v_)(i.info.description)+"則評論 ",1)])],32)])}var E={props:["info"],inject:["curCurrency"],data(){return{isWish:!0}},methods:{deleteWish(e){this.$emit("delet-wish",e)},handleKeyDown(e){"Enter"!==e.key&&" "!==e.key||e.preventDefault()},onClickRoom(e){this.$router.push(`/room/${e}`)},handleMouseEnter(e){const t=e;t.target.style.transform="scale(1.2)"},handleMouseLeave(e){const t=e;t.target.style.transform="scale(1)"}}},K=i(1241);const M=(0,K.A)(E,[["render",C]]);var _=M,D=i(1600),I={components:{WishListInfo:_},data(){return{isLoading:!1,infoList:[],allRoomInfo:[]}},created(){this.getWishList()},methods:{getWishList(){const e="https://vue3-course-api.hexschool.io/api/airstay/products/all";this.isLoading=!0,this.$http.get(e).then((e=>{e.data.success?(this.allRoomInfo=e.data.products,console.log("wishList.Vue 取得所有房間列表成功",this.allRoomInfo[0].id),this.createWishList()):console.log("wishList.Vue 取得所有房間列表失敗"),this.isLoading=!1}))},createWishList(){const e=localStorage.getItem("wishList"),t=JSON.parse(e),i=[];t&&(this.allRoomInfo.forEach((e=>{for(let s=0;s<t.length;s++)e.id===t[s]&&i.push(e)})),this.infoList=i,console.log("wishListData",this.infoList))},deleteWish(e){const t=localStorage.getItem("wishList");let i=JSON.parse(t);const s=i.indexOf(e);-1!==s&&i.splice(s,1),i=JSON.stringify(i),localStorage.setItem("wishList",i),D.A.emit("push-message",{title:"刪除收藏成功"}),D.A.emit("home-update-wishListNum"),D.A.emit("AllRoomView-update"),this.getWishList()}}};const R=(0,K.A)(I,[["render",u]]);var A=R},2009:function(e,t,i){e.exports=i.p+"img/loadingAni.04376c8d.gif"}}]);
//# sourceMappingURL=505.0f976c7b.js.map