"use strict";(self["webpackChunkairstay"]=self["webpackChunkairstay"]||[]).push([[2],{2002:function(e,t,o){o.r(t),o.d(t,{default:function(){return F}});var i=o(6768),s=o(4232),n=o(2009);const l=(0,i.Lk)("img",{src:n,alt:"Loading...",style:{width:"100px"}},null,-1),a={class:"container-fluid mt-5",style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},c=(0,i.Lk)("h3",{style:{"font-weight":"bold"}},"心願單",-1),r=(0,i.Lk)("i",{class:"bi bi-heart-fill",style:{color:"red",fontSize:"20px"}},null,-1),d={class:"px-5"},u={class:"row"};function h(e,t,o,n,h,p){const f=(0,i.g2)("Loading"),L=(0,i.g2)("WishListInfo");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(f,{active:h.isLoading},{default:(0,i.k6)((()=>[l])),_:1},8,["active"]),(0,i.Lk)("div",a,[c,r,(0,i.Lk)("h6",null,"已收藏"+(0,s.v_)(h.infoList.length)+"間",1)]),(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(h.infoList,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{class:"col-12 col-sm-6 col-md-3 col-lg-2 px-3 mb-5",key:"content"+t},[(0,i.bF)(L,{info:e,onDeletWish:p.deleteWish},null,8,["info","onDeletWish"])])))),128))])])],64)}const p={class:"card"},f={class:"card bg-dark text-white text-left",style:{position:"relative"}},L=["src"],g=(0,i.Lk)("i",{class:"bi bi-circle-fill",style:{position:"absolute",top:"-3px",right:"2px","font-size":"40px"}},null,-1),k={class:"card-text"},v={class:"card-text"},y=(0,i.Lk)("i",{class:"bi bi-geo-alt-fill"},null,-1),m={class:"card-text"},x={class:"card-text"},b={class:"card-text"},w={class:"card-text"},W=(0,i.Lk)("i",{class:"bi bi-star-fill"},null,-1);function C(e,t,o,n,l,a){return(0,i.uX)(),(0,i.CE)("div",p,[(0,i.Lk)("div",f,[(0,i.Lk)("img",{class:"card-img-top img-cover",style:{height:"155px"},src:o.info.product.imageUrl,alt:"",onClick:t[0]||(t[0]=e=>a.onClickRoom(o.info.product_id)),onKeydown:t[1]||(t[1]=(...e)=>a.handleKeyDown&&a.handleKeyDown(...e))},null,40,L),g,l.isWish?((0,i.uX)(),(0,i.CE)("i",{key:0,class:"bi bi-heart-fill",style:{position:"absolute",top:"10px",right:"10px",color:"red","font-size":"24px",transition:"transform 0.2s ease-in-out"},onClick:t[2]||(t[2]=e=>a.deleteWish(o.info.id)),onKeydown:t[3]||(t[3]=(...e)=>a.handleKeyDown&&a.handleKeyDown(...e)),onMouseover:t[4]||(t[4]=(...e)=>a.handleMouseEnter&&a.handleMouseEnter(...e)),onMouseout:t[5]||(t[5]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),onFocus:t[6]||(t[6]=(...e)=>a.handleMouseEnter&&a.handleMouseEnter(...e)),onBlur:t[7]||(t[7]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e))},null,32)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",{class:"card-body text-left",onClick:t[8]||(t[8]=e=>a.onClickRoom(o.info.product_id)),onKeydown:t[9]||(t[9]=(...e)=>a.handleKeyDown&&a.handleKeyDown(...e))},[(0,i.Lk)("h5",k,(0,s.v_)(o.info.product.title),1),(0,i.Lk)("p",v,[y,(0,i.eW)(" "+(0,s.v_)(o.info.product.category),1)]),(0,i.Lk)("p",m,(0,s.v_)(o.info.product.content),1),(0,i.Lk)("del",x," $"+(0,s.v_)(o.info.product.origin_price)+" TWD ",1),(0,i.Lk)("p",b," $"+(0,s.v_)(o.info.product.price)+" TWD ",1),(0,i.Lk)("p",w,[W,(0,i.eW)(" "+(0,s.v_)(o.info.product.unit)+" "+(0,s.v_)(o.info.product.description)+"則評論 ",1)])],32)])}o(4114);var M={props:["info"],data(){return{isWish:!0}},methods:{deleteWish(e){this.$emit("delet-wish",e)},handleKeyDown(e){"Enter"!==e.key&&" "!==e.key||e.preventDefault()},onClickRoom(e){this.$router.push(`/room/${e}`)},handleMouseEnter(e){const t=e;t.target.style.transform="scale(1.2)"},handleMouseLeave(e){const t=e;t.target.style.transform="scale(1)"}}},D=o(1241);const K=(0,D.A)(M,[["render",C]]);var _=K,E=o(1600),$={components:{WishListInfo:_},data(){return{isLoading:!1,infoList:[]}},created(){this.getWishList()},methods:{getWishList(){const e="https://vue3-course-api.hexschool.io/api/airstay/cart";this.isLoading=!0,this.$http.get(e).then((e=>{e.data.success?(this.infoList=e.data.data.carts,console.log("取得心願列表資料成功",e)):console.log("取得心願列表資料失敗"),this.isLoading=!1}))},deleteWish(e){console.log(e);const t=`https://vue3-course-api.hexschool.io/api/airstay/cart/${e}`;this.isLoading=!0,this.$http.delete(t).then((e=>{e.data.success?(console.log("刪除收藏成功",e),E.A.emit("home-update-wishListNum"),E.A.emit("AllRoomView-update"),this.getWishList()):(console.log("刪除收藏失敗"),this.isLoading=!1),this.$httpMessage(e,"刪除收藏")}))}}};const A=(0,D.A)($,[["render",h]]);var F=A},2009:function(e,t,o){e.exports=o.p+"img/loadingAni.04376c8d.gif"}}]);
//# sourceMappingURL=2.347daf29.js.map