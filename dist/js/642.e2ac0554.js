"use strict";(self["webpackChunkairstay"]=self["webpackChunkairstay"]||[]).push([[642],{8642:function(t,a,e){e.r(a),e.d(a,{default:function(){return Gt}});var l=e(6768),s=e(5130),o=e(4232),i=e(2009);const r=t=>((0,l.Qi)("data-v-bed1b956"),t=t(),(0,l.jt)(),t),n=r((()=>(0,l.Lk)("img",{src:i,alt:"Loading...",style:{width:"100px"}},null,-1))),c={style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","z-index":"1000","background-color":"black"}},d={class:"text-end"},u={class:"container"},p={class:"row justify-content-center"},m={class:"col-8",style:{"margin-top":"30px"}},h={class:"fw-bold"},b=r((()=>(0,l.Lk)("i",{class:"bi bi-geo-alt-fill me-1",style:{color:"green"}},null,-1))),g={class:"category-hover"},k=r((()=>(0,l.Lk)("i",{class:"bi bi-house-fill me-1",style:{color:"Teal"}},null,-1))),f={class:"fw-bold"},v=r((()=>(0,l.Lk)("i",{class:"bi bi-star-fill",style:{color:"Orange"}},null,-1))),y={class:"col-4",style:{"margin-top":"80px"}},L={key:0,class:"h5"},x={key:1,class:"h6"},w={key:2,class:"h5"},I=r((()=>(0,l.Lk)("hr",null,null,-1))),C=r((()=>(0,l.Lk)("label",{for:"checkin"},"入住日期",-1))),M=r((()=>(0,l.Lk)("label",{for:"checkout"},"退房日期",-1))),D=r((()=>(0,l.Lk)("option",{value:"",selected:"",disabled:""},"房間數量",-1))),F=["value"],_=r((()=>(0,l.Lk)("option",{value:"",selected:"",disabled:""},"旅客人數",-1))),E=["value"],S={style:{margin:"10px"}},W=["disabled"],U={key:0,class:"spinner-border spinner-border-sm text-warning",role:"status"},V=r((()=>(0,l.Lk)("span",{class:"visually-hidden"},"Loading...",-1))),N=[V],X={style:{margin:"10px"}},H=["disabled"],G={key:0,class:"spinner-border spinner-border-sm text-warning",role:"status"},A=r((()=>(0,l.Lk)("span",{class:"visually-hidden"},"Loading...",-1))),B=[A],q={key:1,type:"button",class:"btn btn-outline-success",disabled:!0},j=r((()=>(0,l.Lk)("hr",null,null,-1))),$=r((()=>(0,l.Lk)("h5",null,"設施與服務",-1))),O={style:{display:"grid","grid-template-columns":"repeat(4, 1fr)","grid-gap":"10px",margin:"0 auto"}},Q=r((()=>(0,l.Lk)("i",{class:"bi bi-check-lg"},null,-1))),K=r((()=>(0,l.Lk)("hr",null,null,-1))),T=r((()=>(0,l.Lk)("h5",null,"住宿地點",-1))),z=r((()=>(0,l.Lk)("hr",null,null,-1))),Y=r((()=>(0,l.Lk)("h5",null,"評論",-1)));function J(t,a,e,i,r,V){const A=(0,l.g2)("Loading"),J=(0,l.g2)("LocationsMap"),R=(0,l.g2)("Carousel"),P=(0,l.g2)("Field"),Z=(0,l.g2)("ErrorMessage"),tt=(0,l.g2)("Form"),at=(0,l.g2)("Comment");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(A,{active:r.isLoading},{default:(0,l.k6)((()=>[n])),_:1},8,["active"]),(0,l.bo)((0,l.Lk)("div",c,[(0,l.Lk)("div",d,[(0,l.Lk)("i",{class:"bi bi-x-circle me-3",onClick:a[0]||(a[0]=(...t)=>V.onCloseMap&&V.onCloseMap(...t)),style:{color:"white","font-size":"30px"}})]),(0,l.bF)(J,{latData:22.66,lngData:120.3,height:"880px"})],512),[[s.aG,r.isShowMap]]),(0,l.Lk)("div",u,[(0,l.Lk)("div",p,[(0,l.Lk)("article",m,[(0,l.Lk)("h2",h,(0,o.v_)(r.roomInfo.title),1),(0,l.bF)(R,{imageUrl:r.roomInfo.imageUrl},null,8,["imageUrl"]),(0,l.Lk)("div",{onClick:a[1]||(a[1]=(...t)=>V.onclickMap&&V.onclickMap(...t))},[b,(0,l.Lk)("span",g,(0,o.v_)(r.roomInfo.category),1)]),(0,l.Lk)("div",null,[k,(0,l.eW)((0,o.v_)(r.roomInfo.content),1)]),(0,l.Lk)("div",f,[v,(0,l.eW)(" "+(0,o.v_)(r.roomInfo.unit)+" · "+(0,o.v_)(r.roomInfo.description)+"則評價 ",1)])]),(0,l.Lk)("div",y,[r.roomInfo.price?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",L,(0,o.v_)(r.roomInfo.origin_price)+" 元 ",1)),r.roomInfo.price?((0,l.uX)(),(0,l.CE)("del",x,"原價 $"+(0,o.v_)(r.roomInfo.origin_price)+" "+(0,o.v_)(V.curCurrency),1)):(0,l.Q3)("",!0),r.roomInfo.price?((0,l.uX)(),(0,l.CE)("div",w,[(0,l.Lk)("strong",null," 特價 $"+(0,o.v_)(r.roomInfo.price)+" "+(0,o.v_)(V.curCurrency),1)])):(0,l.Q3)("",!0),I,(0,l.bF)(tt,{class:"col-md-6",onSubmit:a[6]||(a[6]=t=>V.bookNow(r.roomInfo.id))},{default:(0,l.k6)((({errors:e})=>[C,(0,l.bF)(P,{name:"入住日期",modelValue:t.checkInDate,"onUpdate:modelValue":a[2]||(a[2]=a=>t.checkInDate=a),as:"input",type:"date",id:"checkin",class:(0,o.C4)(["form-control",{"is-invalid":e["入住日期"]}]),rules:"required","aria-label":"選擇入住日期"},null,8,["modelValue","class"]),(0,l.bF)(Z,{name:"入住日期",class:"invalid-feedback"}),M,(0,l.bF)(P,{name:"退房日期",modelValue:t.checkOutDate,"onUpdate:modelValue":a[3]||(a[3]=a=>t.checkOutDate=a),as:"input",type:"date",id:"checkout",class:(0,o.C4)(["form-control",{"is-invalid":e["退房日期"]}]),rules:"required","aria-label":"選擇退房日期"},null,8,["modelValue","class"]),(0,l.bF)(Z,{name:"退房日期",class:"invalid-feedback"}),(0,l.bF)(P,{name:"房間數量",as:"select",modelValue:r.roomNum,"onUpdate:modelValue":a[4]||(a[4]=t=>r.roomNum=t),class:(0,o.C4)(["form-select",{"is-invalid":e["房間數量"]}]),rules:"required","aria-label":"Default select example",style:{"margin-top":"10px"}},{default:(0,l.k6)((()=>[D,((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(10,(t=>(0,l.Lk)("option",{key:t,value:t},(0,o.v_)(t)+" 間 ",9,F))),64))])),_:2},1032,["modelValue","class"]),(0,l.bF)(Z,{name:"房間數量",class:"invalid-feedback"}),(0,l.bF)(P,{name:"旅客人數",as:"select",modelValue:r.travelerNum,"onUpdate:modelValue":a[5]||(a[5]=t=>r.travelerNum=t),class:(0,o.C4)(["form-select",{"is-invalid":e["旅客人數"]}]),rules:"required","aria-label":"Default select example",style:{"margin-top":"10px"}},{default:(0,l.k6)((()=>[_,((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(5,(t=>(0,l.Lk)("option",{key:t,value:t},(0,o.v_)(t)+" 位 ",9,E))),64))])),_:2},1032,["modelValue","class"]),(0,l.bF)(Z,{name:"旅客人數",class:"invalid-feedback"}),(0,l.Lk)("div",S,[(0,l.Lk)("button",{class:"btn btn-primary",disabled:this.status.loadingItem===r.roomInfo.id},[this.status.loadingItem===r.roomInfo.id?((0,l.uX)(),(0,l.CE)("div",U,N)):(0,l.Q3)("",!0),(0,l.eW)(" 立即預定 ")],8,W)])])),_:1}),(0,l.Lk)("div",X,[r.isWish?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",class:"btn btn-outline-warning",onClick:a[7]||(a[7]=t=>V.addToCart(r.roomInfo.id)),disabled:this.status.loadingItem===r.roomInfo.id},[this.status.loadingItem===r.roomInfo.id?((0,l.uX)(),(0,l.CE)("div",G,B)):(0,l.Q3)("",!0),(0,l.eW)(" 加入收藏住宿 ")],8,H)),r.isWish?((0,l.uX)(),(0,l.CE)("button",q," 已收藏住宿 ")):(0,l.Q3)("",!0)])])]),j,$,(0,l.Lk)("div",O,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.serviceList,((t,a)=>((0,l.uX)(),(0,l.CE)("p",{key:a},[Q,(0,l.eW)(" "+(0,o.v_)(t),1)])))),128))]),K,T,(0,l.bF)(J,{latData:22.66,lngData:120.3}),z,Y,((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(10,(t=>(0,l.Lk)("div",{key:t},[(0,l.bF)(at)]))),64))])],64)}e(4114);function R(t,a,e,i,r,n){const c=(0,l.g2)("GMapMarker"),d=(0,l.g2)("GMapMap");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bo)((0,l.bF)(d,{center:{lat:e.latData,lng:e.lngData},zoom:14,style:(0,o.Tr)({width:e.width,height:e.height}),options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0}},{default:(0,l.k6)((()=>[(0,l.bF)(c,{position:{lat:e.latData,lng:e.lngData}},null,8,["position"])])),_:1},8,["center","style"]),[[s.aG,e.isShowMap]])])}var P={props:{latData:{type:Number,default(){return 22.66}},lngData:{type:Number,default(){return 120.3}},isShowMap:{type:Boolean,default(){return!0}},width:{type:String,default(){return"100%"}},height:{type:String,default(){return"500px"}}}},Z=e(1241);const tt=(0,Z.A)(P,[["render",R]]);var at=tt;const et=(0,l.Lk)("hr",null,null,-1),lt={class:"container"},st={class:"row"},ot={class:"col mb-5"},it={class:"d-flex align-items-center"},rt=(0,l.Lk)("i",{class:"bi bi-star-fill me-2 mb-2",style:{color:"Orange","font-size":"20px"}},null,-1),nt={class:"",style:{color:"Orange"}},ct=["src"],dt=(0,l.Lk)("p",null,"豪華雙人房",-1),ut={class:"col-8 d-flex flex-column justify-content-center rounded",style:{height:"200px","background-color":"WhiteSmoke"}},pt=(0,l.Lk)("p",null," 連續住了一星期，很滿意。 雖然是老飯店，但是設備有更新，維護的也挺好， 房間浴室空間大，服務好，早餐中西式都有，平面停車場很方便。 前面就是公園， 週末有活動，附近有美術館和科博館、植物園，帶小孩活動不無聊。 ",-1),mt={class:"mt-auto"};function ht(t,a,s,i,r,n){return(0,l.uX)(),(0,l.CE)(l.FK,null,[et,(0,l.Lk)("div",lt,[(0,l.Lk)("div",st,[(0,l.Lk)("div",ot,[(0,l.Lk)("div",it,[rt,(0,l.Lk)("h3",nt,(0,o.v_)(r.score),1)]),(0,l.Lk)("p",null,[(0,l.Lk)("img",{alt:"countrylogo",src:e(715)(`./${r.countrylogo}.png`),class:"mb-1",style:{width:"18px"}},null,8,ct),(0,l.eW)(" Shawn (來自台灣)")]),dt,(0,l.Lk)("p",null,"入住2晚 (2024年"+(0,o.v_)(this.month)+"月)",1)]),(0,l.Lk)("div",ut,[pt,(0,l.Lk)("p",mt,"評鑑日期：2024年"+(0,o.v_)(this.month)+"月"+(0,o.v_)(this.day)+"日",1)])])])],64)}var bt={data(){return{score:10,countrylogo:"TW",month:1,day:1}},created(){this.score=(5*Math.random()+5).toFixed(1),this.month=Math.floor(11*Math.random()+1),this.day=Math.floor(30*Math.random()+1)}};const gt=(0,Z.A)(bt,[["render",ht]]);var kt=gt;const ft={id:"carouselExampleIndicators",class:"carousel slide","data-bs-ride":"carousel"},vt=(0,l.Fv)('<div class="carousel-indicators"><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button><button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4" aria-label="Slide 5"></button></div>',1),yt={class:"carousel-inner"},Lt={class:"carousel-item active"},xt=["src"],wt={class:"carousel-item"},It=["src"],Ct={class:"carousel-item"},Mt=["src"],Dt={class:"carousel-item"},Ft=["src"],_t={class:"carousel-item"},Et=["src"],St=(0,l.Fv)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2);function Wt(t,a,e,s,o,i){return(0,l.uX)(),(0,l.CE)("div",ft,[vt,(0,l.Lk)("div",yt,[(0,l.Lk)("div",Lt,[(0,l.Lk)("img",{src:e.imageUrl,class:"d-block",alt:"imageUrl",style:{width:"850px",height:"500px"}},null,8,xt)]),(0,l.Lk)("div",wt,[(0,l.Lk)("img",{src:e.imagesUrl[0],class:"d-block",alt:"imageUrl",style:{width:"850px",height:"500px"}},null,8,It)]),(0,l.Lk)("div",Ct,[(0,l.Lk)("img",{src:e.imagesUrl[1],class:"d-block",alt:"imageUrl",style:{width:"850px",height:"500px"}},null,8,Mt)]),(0,l.Lk)("div",Dt,[(0,l.Lk)("img",{src:e.imagesUrl[2],class:"d-block",alt:"imageUrl",style:{width:"850px",height:"500px"}},null,8,Ft)]),(0,l.Lk)("div",_t,[(0,l.Lk)("img",{src:e.imagesUrl[3],class:"d-block",alt:"imageUrl",style:{width:"850px",height:"500px"}},null,8,Et)])]),St])}var Ut={data(){return{}},props:{imageUrl:{},imagesUrl:{typeof:Array,default(){return["https://images.unsplash.com/photo-1516627145497-ae6968895b74?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1924&q=80","https://images.unsplash.com/photo-1587300003388-59208cc962cb?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1517331156700-3c241d2b4d83?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1948&q=80","https://images.unsplash.com/photo-1617093727343-374698b1b08d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1511914265872-c40672604a80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1867&q=80"]}}}};const Vt=(0,Z.A)(Ut,[["render",Wt]]);var Nt=Vt,Xt={inject:["emitter","curCurrency"],components:{LocationsMap:at,Comment:kt,Carousel:Nt},data(){return{isLoading:!1,roomInfo:{},id:"",status:{loadingItem:""},isWish:!1,wishList:[],roomNum:"",travelerNum:"",isShowMap:!1,serviceList:["24小時櫃台服務","機場接送","接駁服務","房內免費Wi-Fi","快速入住/退房服務","可寄放行李","健身房","餐廳"]}},created(){this.id=this.$route.params.roomId,this.getRoomData(this.id),this.getWishList()},methods:{getRoomData(t){this.isLoading=!0;const a=`https://vue3-course-api.hexschool.io/api/airstay/product/${t}`;this.$http.get(a).then((t=>{t.data.success?(console.log("用戶端 取得獨立房間資料成功",t),this.roomInfo=t.data.product):console.log("用戶端 取得獨立房間資料失敗"),this.isLoading=!1}))},addToCart(t){let a=localStorage.getItem("wishList");a=JSON.parse(a),a||(a=[]),a.push(t),a=JSON.stringify(a),localStorage.setItem("wishList",a),this.emitter.emit("push-message",{title:"加入收藏成功"}),this.emitter.emit("home-update-wishListNum"),this.emitter.emit("AllRoomView-update"),this.isWish=!0},bookNow(){const t="https://vue3-course-api.hexschool.io/api/airstay/cart",a={product_id:this.roomInfo.id,qty:Number(this.roomNum)};this.status.loadingItem=this.roomInfo.id,this.$http.post(t,{data:a}).then((t=>{t.data.success?(console.log("用戶端 進入訂房步驟成功",t.data.data),this.$router.push(`/checkout/${this.id}`)):console.log("用戶端 進入訂房步驟失敗"),this.status.loadingItem=""}))},getWishList(){const t=localStorage.getItem("wishList"),a=JSON.parse(t);a.forEach((t=>{this.id===t&&(this.isWish=!0)}))},onclickMap(){this.isShowMap=!0},onCloseMap(){this.isShowMap=!1}}};const Ht=(0,Z.A)(Xt,[["render",J],["__scopeId","data-v-bed1b956"]]);var Gt=Ht},2009:function(t,a,e){t.exports=e.p+"img/loadingAni.04376c8d.gif"}}]);
//# sourceMappingURL=642.e2ac0554.js.map