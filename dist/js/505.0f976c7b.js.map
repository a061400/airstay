{"version":3,"file":"js/505.0f976c7b.js","mappings":"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","sources":["webpack://airstay/./src/views/WishList.vue","webpack://airstay/./src/components/WishListInfo.vue","webpack://airstay/./src/components/WishListInfo.vue?6c63","webpack://airstay/./src/views/WishList.vue?70aa"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/iframe-has-title -->\n<template>\n  <Loading :active=\"isLoading\">\n    <img src=\"@/assets/loadingAni.gif\" alt=\"Loading...\" style=\"width:100px\"/>\n  </Loading>\n  <div class=\"container-fluid mt-5\"\n       style=\"display: flex; justify-content: center;\n       align-items: center;\n       flex-direction: column;\">\n            <h3 style=\"font-weight: bold;\">心願單</h3>\n            <i class=\"bi bi-heart-fill\" style=\"color:red; fontSize:20px\"></i>\n            <h6>已收藏{{infoList.length}}間</h6>\n  </div>\n  <div class=\"px-5\">\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 col-md-3 col-lg-2 px-3 mb-5\"\n      v-for=\"(item,key) in infoList\" :key=\"'content'+key\">\n          <WishListInfo :info=\"item\" @delet-wish=\"deleteWish\"></WishListInfo>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport WishListInfo from '@/components/WishListInfo.vue';\nimport emitter from '@/methods/emitter';\n\nexport default {\n  components: {\n    WishListInfo,\n  },\n  data() {\n    return {\n      isLoading: false,\n      infoList: [],\n      allRoomInfo: [],\n    };\n  },\n  created() {\n    this.getWishList();\n  },\n  methods: {\n    getWishList() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        if (res.data.success) {\n          this.allRoomInfo = res.data.products;\n          console.log('wishList.Vue 取得所有房間列表成功', this.allRoomInfo[0].id);\n          this.createWishList();\n        } else {\n          console.log('wishList.Vue 取得所有房間列表失敗');\n        }\n        this.isLoading = false;\n      });\n    },\n    createWishList() {\n      const wishListString = localStorage.getItem('wishList');\n      const wishListArr = JSON.parse(wishListString);\n      const wishListData = [];\n\n      // Object.keys(this.allRoomInfo).forEach((res) => {\n      //   for (let i = 0; i < wishListArr.length; i++) {\n      //     console.log(wishListArr);\n      //     if (res.id === wishListArr[i]) {\n      //       wishListData.push(this.allRoomInfo[res]);\n      //     }\n      //   }\n      // });\n\n      if (wishListArr) {\n        this.allRoomInfo.forEach((res) => {\n          for (let i = 0; i < wishListArr.length; i++) {\n            if (res.id === wishListArr[i]) {\n              wishListData.push(res);\n            }\n          }\n        });\n\n        this.infoList = wishListData;\n        console.log('wishListData', this.infoList);\n      }\n    },\n    deleteWish(deleteId) {\n      const wishListString = localStorage.getItem('wishList');\n      let wishListArr = JSON.parse(wishListString);\n      const deleteIndex = wishListArr.indexOf(deleteId);\n      if (deleteIndex !== -1) {\n        wishListArr.splice(deleteIndex, 1);\n      }\n      wishListArr = JSON.stringify(wishListArr);\n      localStorage.setItem('wishList', wishListArr);\n      emitter.emit('push-message', {\n        title: '刪除收藏成功',\n      });\n      emitter.emit('home-update-wishListNum');\n      emitter.emit('AllRoomView-update');\n      this.getWishList();\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"card\">\n    <div class=\"card bg-dark text-white text-left\" style=\"position: relative\">\n      <img\n        class=\"card-img-top img-cover\"\n        style=\"height: 155px\"\n        :src=\"info.imageUrl\"\n        alt=\"\"\n        @click=\"onClickRoom(info.id)\"\n        @keydown=\"handleKeyDown\"\n      />\n      <i\n        class=\"bi bi-circle-fill\"\n        style=\"\n          position: absolute;\n          top: -3px;\n          right: 2px;\n          font-size: 40px;\n        \"\n      ></i>\n      <i\n        v-if=\"isWish\"\n        class=\"bi bi-heart-fill\"\n        style=\"\n          position: absolute;\n          top: 10px;\n          right: 10px;\n          color: red;\n          font-size: 24px;\n          transition: transform 0.2s ease-in-out;\"\n        @click=\"deleteWish(info.id)\"\n        @keydown=\"handleKeyDown\"\n        @mouseover=\"handleMouseEnter\"\n        @mouseout=\"handleMouseLeave\"\n        @focus=\"handleMouseEnter\"\n        @blur=\"handleMouseLeave\"\n      ></i>\n    </div>\n    <div class=\"card-body text-left\" @click=\"onClickRoom(info.id)\" @keydown=\"handleKeyDown\">\n      <h5 class=\"card-text\">\n        {{ info.title }}\n      </h5>\n      <p class=\"card-text\">\n        <i class=\"bi bi-geo-alt-fill\"></i>\n        {{ info.category }}\n      </p>\n      <p class=\"card-text\">\n        {{ info.content }}\n      </p>\n      <del class=\"card-text\">\n        ${{ info.origin_price }} {{ curCurrency }}\n      </del>\n      <p class=\"card-text\">\n         ${{ info.price }} {{ curCurrency }}\n      </p>\n      <p class=\"card-text\">\n        <i class=\"bi bi-star-fill\"></i>\n        {{ info.unit }} {{ info.description }}則評論\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['info'],\n  inject: [\n    'curCurrency',\n  ],\n  data() {\n    return {\n      isWish: true,\n    };\n  },\n  methods: {\n    deleteWish(id) {\n      this.$emit('delet-wish', id);\n    },\n    handleKeyDown(event) {\n      if (event.key === 'Enter' || event.key === ' ') {\n        event.preventDefault(); // 防止空白鍵觸發頁面捲動\n      }\n    },\n    onClickRoom(id) {\n      this.$router.push(`/room/${id}`);\n    },\n    handleMouseEnter(event) {\n      const item = event;\n      item.target.style.transform = 'scale(1.2)';\n    },\n    handleMouseLeave(event) {\n      const item = event;\n      item.target.style.transform = 'scale(1)';\n    },\n  },\n};\n</script>\n","import { render } from \"./WishListInfo.vue?vue&type=template&id=21a9ad6a\"\nimport script from \"./WishListInfo.vue?vue&type=script&lang=js\"\nexport * from \"./WishListInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./WishList.vue?vue&type=template&id=70bb6b9f\"\nimport script from \"./WishList.vue?vue&type=script&lang=js\"\nexport * from \"./WishList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","src","_imports_0","alt","style","class","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","default","_withCtx","_hoisted_1","_","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","infoList","length","_hoisted_5","_hoisted_6","_renderList","item","key","_component_WishListInfo","info","onDeletWish","$options","deleteWish","$props","imageUrl","onClick","_cache","$event","onClickRoom","id","onKeydown","args","handleKeyDown","isWish","onMouseover","handleMouseEnter","onMouseout","handleMouseLeave","onFocus","onBlur","_createCommentVNode","title","_hoisted_7","_createTextVNode","category","_hoisted_8","content","_hoisted_9","origin_price","curCurrency","_hoisted_10","price","_hoisted_11","_hoisted_12","unit","description","props","inject","data","methods","this","$emit","event","preventDefault","$router","push","target","transform","__exports__","components","WishListInfo","allRoomInfo","created","getWishList","api","$http","get","then","res","success","products","console","log","createWishList","wishListString","localStorage","getItem","wishListArr","JSON","parse","wishListData","forEach","i","deleteId","deleteIndex","indexOf","splice","stringify","setItem","emitter","emit","render"],"sourceRoot":""}